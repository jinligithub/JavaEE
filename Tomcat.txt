
Tomcat：Web应用服务器
Tomcat容器，可以Apache公司产品，容器共享数据
HTML，CSS，JSP（java服务页面），JS
放入一个目录进行间接访问
XxxWEB目录
   WEB-INF---规定的目录
     Classes----目录   java源文件
        contact.class
    Lib  ---第三方jar包
        javax.servlet-api.jar
        Dom4j,jar


将网站-->文件夹
ROOT 
        Index.html--->首页

Tomcat的下载
   安装版：后缀.exe   .msi
   压缩版：.zip  -->  解压

目录结构的作用：
   Linux下tomcat.8.

Tomcat启动方式：Windows操作
安装目录bin目录
  Startup.bat  -->启动
   Shutdown.bat--> 关闭Tomcat

访问Tomcat
Url:http://localhost:8080
访问静态资源文件的地址
http:


localhost  :本地域名（企业访问统称doMain）
顶级域名：com、cn
二级域名：baidu.com
三级域名：www.baidu.com

Tomcat启动目录中的bin目录的stratup.bat执行参数
如果path环境变量如果是普通方式Tomcat会出现闪屏，会启动失败。
Tomcat里面：变量catalina需要在path中配置环境变量





## web相关概念回顾
    1. 软件架构
        1. C/S：客户端/服务器端
        2. B/S：浏览器/服务器端

    2. 资源分类
        1. 静态资源：所有用户访问后，得到的结果都是一样的，称为静态资源.静态资源可以直接被浏览器解析
            * 如： html,css,JavaScript
        2. 动态资源:每个用户访问相同资源后，得到的结果可能不一样。称为动态资源。动态资源被访问后，需要先转换为静态资源，在返回给浏览器
            * 如：servlet/jsp,php,asp....
            

    3. 网络通信三要素
        1. IP：电子设备(计算机)在网络中的唯一标识。
        2. 端口：应用程序在计算机中的唯一标识。 0~65536
        3. 传输协议：规定了数据传输的规则，使通信双方能够明白彼此的传输内容
            1. 基础协议：
                1. tcp:安全协议，三次握手（确认说昂放都在线时才会发送数据）。 速度稍慢
                2. udp：不安全协议。 速度快


## web服务器软件：
    * 服务器：安装了服务器软件的计算机
    * 服务器软件：接收用户的请求，处理请求，做出响应
    * web服务器软件：接收用户的请求，处理请求，做出响应。
        * 在web服务器软件中，可以部署web项目，让用户通过浏览器来访问这些项目
        * web容器


    * 常见的java相关的web服务器软件：
        * webLogic：oracle公司，大型的JavaEE服务器，支持所有的JavaEE规范，收费的。
        * webSphere：IBM公司，大型的JavaEE服务器，支持所有的JavaEE规范，收费的。
        * JBOSS：JBOSS公司的，大型的JavaEE服务器，支持所有的JavaEE规范，收费的。
        * Tomcat：Apache基金组织，中小型的JavaEE服务器，仅仅支持少量的JavaEE规范servlet/jsp。开源的，免费的。


    * JavaEE：Java语言在企业级开发中使用的技术规范的总和，一共规定了13项大的规范

    * Tomcat：web服务器软件
        1. 下载：http://tomcat.apache.org/
        2. 安装：解压压缩包即可。
            * 注意：安装目录建议不要有中文和空格

        3. 卸载：删除目录就行了
        4. 启动：
            *在tomcat文件下的 bin/startup.bat ,双击运行该文件即可
            * 访问：访问自己：浏览器输入：http://localhost:8080 回车访问自己
                         访问别人：  http://别人的ip:8080
            
            * 可能遇到的问题：
                1. 黑窗口一闪而过：
                    * 原因： 没有正确配置JAVA_HOME环境变量
                    * 解决方案：正确配置JAVA_HOME环境变量

                2. 启动报错：（Address already in use:  bind     端口号被占用）
                    1. 暴力：找到占用的端口号，并且找到对应的进程，杀死该进程(建议)
                        * netstat -ano
                    2. 温柔：修改自身的端口号

       修改后：

                 * conf/server.xml
                        * <Connector port="8888" protocol="HTTP/1.1"
                           connectionTimeout="20000"
                           redirectPort="8445" />


                        * 一般会将tomcat的默认端口号修改为80。80端口号是http协议的默认端口号。
                            * 好处：在访问时，就不用输入端口号
        5. 关闭：
            1. 正常关闭：
                * bin/shutdown.bat  双击
                * ctrl+c
            2. 强制关闭：
                * 点击启动窗口的×
                *  断电
        6. 配置:
            * 部署项目的方式：
                1. 直接将项目放到webapps目录下即可。
                    * /hello：项目的访问路径-->虚拟目录
                    * 简化部署：将项目打成一个war包，再将war包放置到webapps目录下。
                        * war包会自动解压缩

http://localhost:8080/hello/hello.html

缺点：
1.虚拟目录的名字和项目目录的名字是一样的
2.而且需要把项目拷贝到webAPP下
              
  2. 配置conf/server.xml文件

                    在<Host>标签体中配置
                    <Context docBase="D:\hello" path="/hehe" />
                    * docBase:项目存放的路径
                    * path：虚拟目录

         缺点：
        1.因为server.xml是tomcat的配置文件，在这个配置文件里如果配置很多文件，如果在配置某个文件时，把所server.xml的配置文件损坏了，其他项目也就没法运行了。所以 它很不安全。


          3. 在conf\Catalina\localhost创建任意名称的xml文件。在文件中编写
                    <Context docBase="D:\hello" />
                    * 虚拟目录：xml文件的名称
            
            * 静态项目和动态项目：
                * 目录结构
                    * java动态项目的目录结构：
                        -- 项目的根目录
                             -- WEB-INF目录：
                                     -- web.xml：web项目的核心配置文件
                                     -- classes目录：放置字节码文件的目录
                                     -- lib目录：放置依赖的jar包


            * 将Tomcat集成到IDEA中，并且创建JavaEE的项目，部署项目。







## IDEA与tomcat的相关配置
    1. IDEA会为每一个tomcat部署的项目单独建立一份配置文件
        * 查看控制台的log：Using CATALINA_BASE:   "C:\Users\fqy\.IntelliJIdea2018.1\system\tomcat\_itcast"

    2. 工作空间项目    和     tomcat部署的web项目
        * tomcat真正访问的是“tomcat部署的web项目”，"tomcat部署的web项目"对应着"工作空间项目" 的web目录下的所有资源
        * WEB-INF目录下的资源不能被浏览器直接访问。
    3. 断点调试：使用"小虫子"启动 dubug 启动
 